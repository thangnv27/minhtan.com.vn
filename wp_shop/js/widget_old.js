!function(a,b,c){c.getCookies=function(){var b={};return c.alo(a.cookie.split(";")).each(function(a,c){var d=c.replace(" ","").split("=");b[d[0]]=d[1]}),b},c.isMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||c.isAppleMobile()||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},c.isAppleMobile=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)?!0:!1},c.extend=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.__super=b.prototype,a.prototype.constructor=a},c.createTimeout=function(a){return{_timeout:350,_timeReg:0,_id:null,_context:null,run:function(){this._timeReg-(new Date).getTime()<this._timeout&&clearTimeout(this._id),this._timeReg=(new Date).getTime(),this._id=setTimeout(function(){a.call(this._context)},this._timeout)}}},c.zoomDetail=function(){var d=a.documentElement;return"landscape"==c.viewPort.getOrientation()?{currentWidth:d.clientWidth,screenWidth:b.innerWidth,ratio:Math.min(b.innerWidth/d.clientWidth,1)}:{currentWidth:d.clientWidth,screenWidth:b.innerWidth,ratio:Math.min(b.innerWidth/d.clientWidth,1)}},c.changeScale=function(a){this.style.cssText+="-moz-transform: scale("+a+","+a+");",this.style.cssText+="-ms-transform: scale("+a+","+a+");",this.style.cssText+="-webkit-transform: scale("+a+","+a+");",this.style.cssText+="-o-transform: scale("+a+","+a+");",this.style.cssText+="transform: scale("+a+","+a+");",this.style.cssText+="transform-origin: top left;"},c.forEach=function(a){if(c.isArray(this))for(var b=0;b<this.length;b++)a(b,this[b]);else for(var b in this)this.hasOwnProperty(b)&&a(b,this[b])},c.paramsToQuery=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return b.join("&")},c.isDefined=function(a){return void 0!==a},c.insertAfter=function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},c.isArray=function(a){return c.isDefined(a)&&"Array"===a.constructor.name},c.isObject=function(a){return c.isDefined(a)&&"Object"===a.constructor.name},c.isString=function(a){return c.isDefined(a)&&"String"===a.constructor.name},c.inArray=function(a,b){if(!c.isArray(b))throw"UnExpectedArgument. Expected Array";for(var d=0;d<b.length;d++)if(b[d]==a)return!0;return!1},c.mixin=function(a){if(1==arguments.length)return a;for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a},c.deepMixin=function(a,b){for(var d in b)if(c.isObject(b[d]))c.isDefined(a[d])||(a[d]={}),c.deepMixin(a[d],b[d]);else if(c.isArray(b[d])||c.isArray(a[d])){for(var e=[],f=[b[d],a[d]],g=0;g<f.length;g++)c.isArray(f[g])?e=e.concat(f[g]):e.push(f[g]);a[d]=e}else b.hasOwnProperty(d)&&(a[d]=b[d]);return a},c.Deferred=function d(){function d(){this._fails=[],this._dones=[],this.promise=new a(this)}var a=function(){function a(a){b=a}var b;return a.prototype={any:function(a){return this.fail(a).done(a),this},fail:function(a){return b._fails.push(a),this},done:function(a){return b._dones.push(a),this}},a}();return d.prototype={reject:function(){for(var a=0;a<this._fails.length;a++)this._fails[a].apply(b,arguments)},resolve:function(){for(var a=0;a<this._dones.length;a++)this._dones[a].apply(b,arguments)}},d}(),c.addClass=function(a,b){-1==a.className.indexOf(b)&&(""!=a.className&&(a.className+=" "),a.className+=b)},c.removeClass=function(a,b){var c=new RegExp("("+b+" ?)|( ?"+b+")");a.className=a.className.replace(c,"")},c.template=function(a,b){c.emitter.emit("pre:render",b);var d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);var f=new RegExp("{{("+d.join("|")+")}}","g");return a.replace(f,function(a,c){return b[c]})},c.maskChangeListenerCreator=function(a){var b=11;return function(d){var e=a.number();if(3==e.length||4==e.length){switch(c.masklen(e.substr(0,2),e.substr(1,2),e.substr(1,3))){case 10:if(10==b)return;d.setMask(a.maskFormat.substr(0,a.maskFormat.length-1)),b=10;break;case 11:if(11==b)return;d.setMask(a.maskFormat),b=11}d.setValue(e)}}},c.wndsize=function(){var b=0,c=0;return window.innerWidth?(b=window.innerWidth,c=window.innerHeight):0!=a.documentElement.clientWidth?(b=a.documentElement.clientWidth,c=a.documentElement.clientHeight):(b=a.body.clientWidth,c=a.body.clientHeight),{width:b,height:c}},c.percentToPosition=function(a,b,d){var e=c.wndsize();return{offsetX:b*(e.width/100)-b*(a.width()/100),offsetY:d*(e.height/100)-d*(a.height()/100)}},c.positionToPercent=function(a,b,d){var e=c.wndsize();return{offsetX:100/((e.width-a.width())/b),offsetY:100/((e.height-a.height())/d)}},c.masklen=function(a,b,d){switch(a){case"02":if(c.inArray(b,[20,22,25,26,29]))return 10;if(c.inArray(d,[210,211,218,219,230,231,240,241,280,281]))return 11;break;case"03":if(c.inArray(b,[30,31,33,36,37,38,39]))return 10;if(c.inArray(d,[320,350,351]))return 11;break;case"08":case"04":return 10;case"05":if(b>=52&&code<=59)return 10;if(c.inArray(d,[500,501,510,511]))return 11;break;case"06":if(b>=60&&64>=b||c.inArray(b,[67,68]))return 10;if(c.inArray(b,[650,651]))return 11;break;case"07":if(b>=73&&77>=b||c.inArray(b,[70,79]))return 10;if(c.inArray(d,[710,711,780,781]))return 11;break;case"09":if(b>=90&&98>=b||43==b)return 10;if(992==d||d>=996&&999>=d)return 11;break;case"01":if(d>=120&&129>=d||c.inArray(d,[186,188,199])||d>=162&&169>=d)return 11}return 11}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a){function b(b){this.pending=!1,this.options=a.mixin({query:{}},b)}b.prototype={addQuery:function(a,b){this.options.query[a]=b},isPending:function(){return this.pending},send:function(b){if(!0!==this.pending){this.pending=!0;var c=this,d=a.trackerCreator(),e=d.getFirstSessionVisit(),f=a.mixin({referrer_url:encodeURIComponent(e.referrer_url),click_url:encodeURIComponent(e.click_url)},b.query||{},this.options.query||{});return a.http.get(a.routes.gen("callback",f)).any(function(){c.pending=!1}).fail(function(a){console.log("fail. ",a)})}}},a.createClient=function(a){return new b(a)}}(window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a,b){b.dispatchEvent(a)}c.Event={registry:function(a){a.attach()}},c.Event.registry({_id:null,_prevRatio:0,_frequencyUpdate:100,_handler:function(){var a=c.zoomDetail();if(this._prevRatio!=a.ratio){this._prevRatio=a.ratio;var b=new CustomEvent("alo:zoom",{detail:a});d(b,window)}},attach:function(){var a=this;this._id=setInterval(function(){a._handler()},this._frequencyUpdate)},deAttach:function(){removeInterval(this._id)}})}(window,document,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1}function e(a){return h[a.keyCode]?(d(a),!1):void 0}var f,g,h={37:1,38:1,39:1,40:1};c.viewPort={getOrientation:function(){return Math.abs(window.orientation)-90==0?"landscape":"portrait"},scroll:{disable:function(){c.alo(a).on("DOMMouseScroll",d,!1),a.onwheel=d,a.onmousewheel=b.onmousewheel=d,a.ontouchmove=d,b.onkeydown=e},enable:function(){c.alo(a).off("DOMMouseScroll",d,!1),a.onmousewheel=b.onmousewheel=null,a.onwheel=null,a.ontouchmove=null,b.onkeydown=null},top:function(){return a.pageYOffset},left:function(){return a.pageXOffset},move:function(b,c){a.scrollTo(b,c)}},screen:{width:function(){return screen.width},height:function(){return screen.height}},page:{width:function(){return Math.max(g.scrollWidth,g.offsetWidth,g.clientWidth,f.offsetWidth,f.scrollWidth,f.clientWidth)},height:function(){return Math.max(g.scrollHeight,g.offsetHeight,g.clientHeight,f.offsetHeight,f.scrollHeight,f.clientHeight)}},window:{width:function(){return a.innerWidth||f.clientWidth||g.clientWidth},height:function(){return a.innerHeight||f.clientHeight||g.clientHeight}},resize:function(b){c.alo(a).on("resize",b)}},b.addEventListener("DOMContentLoaded",function(){f=b.documentElement,g=b.getElementsByTagName("body")[0]},!1)}(window,document,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a,b,c){a.addEventListener(b,c,!0)}function e(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent(b,c)}function f(a,b){var c=b.substr(0,1);switch(c){case".":return a.getElementsByClassName(b.substr(1));case"#":return a.getElementById(b.substr(1));default:return a.getElementsByTagName(b)}}function g(a){this.extend(a)}g.prototype=[],g.prototype.extend=function(a){var b=this;c.forEach.call(a,function(a,c){b.push(c)})},g.prototype.on=function(a,b){this.each(function(c,e){d(e,a,b)})},g.prototype.off=function(a,b){this.each(function(c,d){e(d,a,b)})},g.prototype.each=function(a){c.forEach.call(this,a)},g.prototype.filter=function(a){var b=[];return c.forEach.call(this,function(c,d){a.call(this,d)&&b.push(d)}),new g(b)},g.prototype.addClass=function(a){return c.forEach.call(this,function(b,c){-1==c.className.indexOf(a)&&(""!=c.className&&(c.className+=" "),c.className+=a)}),this},g.prototype.hasClass=function(a){return new RegExp("(?:^|\\s)"+a+"(?:\\s|$)").test(this[0].className)},g.prototype.removeClass=function(a){return c.forEach.call(this,function(b,c){c.className=c.className.replace(new RegExp("("+a+" ?)|( ?"+a+")"),"")}),this},g.prototype.find=function(a){var b=[];return c.forEach.call(this,function(c,d){for(var e=f(d,a),g=0;g<e.length;g++)b.push(e[g])}),new g(b)},g.prototype.css=function(a,d){if(c.isDefined(d))return void(this[0].style[a]=d);var e=b.getComputedStyle(this[0]);return e.hasOwnProperty(a)?e[a]:""},g.prototype.append=function(){for(var a=0;a<arguments.length;a++)this[0].appendChild(arguments[a]);return this},g.prototype.position=function(){var a=this[0].getBoundingClientRect();return{top:a.top+b.pageYOffset,left:a.left+b.pageXOffset}},g.prototype.width=function(){return this[0].getBoundingClientRect().width},g.prototype.height=function(){return this[0].getBoundingClientRect().height},g.prototype.attr=function(a,b){return c.isDefined(b)?(this[0].attributes[a].value=b,this):this[0].attributes.hasOwnProperty(a)?this[0].attributes[a].value:""},g.prototype.first=function(){return this[0]},g.prototype.last=function(){return new g([this[this.length-1]])},c.alo=function(b){var d=b.constructor.name;return"String"==d?b=f(a,b):c.isArray(b)||(b=[b]),new g(b)}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a){function b(){this.handlers={}}function c(a){return"function"==typeof a}b.prototype={on:function(a,b){if(!c(b))throw"TypeError, argument must be a function";void 0===this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b)},once:function(a,b){var c=this,d=function(e){b.call(this,e),c.off(a,d)};this.on(a,d)},off:function(a,b){if(void 0===b)this.handlers[a]=[];else for(var c=this.handlers[a],d=0;d<c.length;d++)c[d]==b&&(this.handlers[a]=c.slice(0,d).concat(c.slice(d+1)))},emit:function(a,b,d){if(void 0!=this.handlers[a]){void 0==d&&(d=null);for(var e=0,f=this.handlers[a];e<f.length;){var g=f[e];c(g)&&(g.call(d,b),e++)}}}},a.emitter=new b,a.createEmitter=function(){return new b},a.emitterTrait={on:function(a,b){this._emitter.on(a,b)},off:function(a,b){this._emitter.off(a,b)},emit:function(a,b,c){this._emitter.emit(a,b,c)}}}(window._coccoc_widget||(window._coccoc_widget={})),function(a,b){b.config={widgetUpdate:3e5,defaultLocale:"vi",fraud:{requestLimit:"3",duplicateLimit:"2",prefix:"alo-widget-fraud",lockDuration:9e5},routes:{host:"//alo.coccoc.com",urls:{init:"api/v1/widgets/{token}/init",callback:"api/v1/callbacks/{token}/do"}},http:{origin:"1"},tracker:{localStorageKey:"alo-widget-tracker"},logger:{channels:[{channel:"remote",options:{host:"//alo.coccoc.com",baseUrl:"log",params:{origin:"1"}}}]},widgetReady:[],iconClosable:!1},b.isDefined(a._coccoc_widget_config)&&b.deepMixin(b.config,a._coccoc_widget_config)}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a){var b=function(){function a(){}return a.prototype={push:function(a){console.log(a)}},a}(),c=function(){function b(a){this.options=a}function c(b,c,d){return b+"/"+c+"?"+a.paramsToQuery(d)}return b.prototype={push:function(b,d){var e=this.options.params||{},f=new Image;d=d||{remote:{query:{}}},a.isObject(d.remote.query)&&(e=a.mixin(d.remote.query,e)),f.src=c(this.options.host,this.options.baseUrl,a.mixin({action:b},e))}},b}(),d={console:b,remote:c},e=function(){function a(){}var b=[];return a.prototype={addChannel:function(a){b.push(a)},log:function(a,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];e.push(a,c)}}},a}();a.loggerInstance=new e,a.logger=function(b,c){a.loggerInstance.log(b,c)};for(var f=new e,g=a.config.logger.channels,h=0,i=g.length;i>h;h++){var j=g[h];f.addChannel(new d[j.channel](j.options||{}))}}(window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d={en:{from:"from",w1:"monday",w2:"tuesday",w3:"wednesday",w4:"thursday",w5:"friday",w6:"saturday",w7:"sunday",invalid_number:"Invalid number. Please retry.",submit:"Receive call",call_success:"Your request has been successfully processed. Please wait.",service_unavailable:"Something is wrong. Please come back later.",normal_mode:"Enter your number. We will call you after %time%",night_mode:'Let us call you back on %weekday% <span class="coccoc-alo-request-time-holder"></span>, when we will be in the office?',no_call_mode:"Type your phone number here. We will call you as soon as we're back to work",call_now:"Call now!",time_expires:"Having trouble finding necessary info? <br/> If you need our help, leave your phone number here",time_expires_night:"Having trouble finding necessary info?<br/>Leave your number here to get our support on",form_preview:"Form preview"},vi:{from:"sau",w1:"thứ Hai",w2:"thứ Ba",w3:"thứ Tư",w4:"thứ Năm",w5:"thứ Sáu",w6:"thứ Bảy",w7:"Chủ nhật",invalid_number:"Số điện thoại không hợp lệ. Vui lòng nhập lại!",submit:"Click để được gọi lại!",call_success:"Yêu cầu của bạn đã được chuyển. Xin vui lòng đợi chúng tôi gọi lại.",service_unavailable:"Hệ thống đang có lỗi. Xin vui lòng quay lại sau",normal_mode:"Nhập số điện thoại của bạn và chúng tôi sẽ gọi lại sau %time% giây!",night_mode:"Chúng tôi sẽ gọi cho bạn khi quay lại làm việc vào",no_call_mode:"Nhập số điện thoại của bạn. Chúng tôi sẽ gọi lại ngay khi có thể",call_now:"Gọi ngay!",time_expires:"Chưa tìm được thông tin liên quan tới tình hình kinh doanh của bạn?<br/>Điền SĐT để được Cốc Cốc tư vấn riêng",time_expires_night:"Chưa tìm được thông tin liên quan tới tình hình kinh doanh của bạn?<br/>Điền SĐT để được Cốc  Cốc tư vấn riêng vào",form_preview:"Xem trước form điền số điện thoại"}};c._=function(a,b,e){return"vn"===e&&(e="vi"),c.isDefined(e)||(e=c.config.defaultLocale),c.isDefined(d[e])&&c.isDefined(d[e][a])?(a=d[e][a],c.isDefined(b)&&(a=a.replace(new RegExp("%([A-Za-z0-1_.-]+)%","g"),function(a,d){return c.isDefined(b[d])?c._(b[d]):""})),a):a}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){function c(c,d){this.options=d,this.holder=c,c.innerHTML="",this.select=a.createElement("select"),b.addClass(this.select,"coccoc-alo-request-time")}c.prototype={val:function(){return this.select.value},render:function(){for(var c in this.options)if(this.options.hasOwnProperty(c)){var d=a.createElement("option");d.value=this.options[c].val,d.selected=this.options[c].selected,b.text(d,this.options[c].text),this.select.appendChild(d)}this.holder.appendChild(this.select)}},b.html={select:function(a,b){var d=new c(a,b);return d.render(),d}},b.html.remove=function(a){null!=a.parentNode&&a.parentNode.removeChild(a)},b.text=function(a,c){a.textContent=c,b.isDefined(a.textContent)?a.textContent=c:a.innerText=c}}(document,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){c.Timer=function(){function a(a,b,d){this.isStarted=!1,this.time=1e3*b,this.options=c.mixin({format:"m:s,y",delay:10,autostart:!0},d),this.el=a,d.autostart&&this.start()}return a.prototype={_pad:function(a,b){var c="0000",d=b-(a+"").length;return 0!==d&&(a=c.substr(0,d)+a),a},_format:function(){var a=this.time,b={m:0,s:0,ms:0};b.m=this._pad(Math.floor(this.time/6e4),2),a-=6e4*b.m,b.s=this._pad(Math.floor(a/1e3),2),a-=1e3*b.s,b.y=this._pad(Math.floor(a/10),2);for(var d=this.options.format,e="",f=0;f<d.length;f++)e+=c.isDefined(b[d[f]])?b[d[f]]:d[f];return e},_intervalCallback:function(){this.time-=this.options.delay,this.show(),0==this.time&&this.stop()},start:function(){if(!this.isStarted){this.isStarted=!0;var a=this;this._intervalId=setInterval(function(){a._intervalCallback.call(a)},this.options.delay)}},stop:function(){this.isStarted&&clearInterval(this._intervalId)},show:function(){c.text(this.el,this._format())}},a}()}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d=function(){function a(a,d){this.options={auto_start:!0,delay:2},b=function(){a.call()},void 0!==d&&c.mixin(this.options,d),this.timeoutId=null,!0===this.options.auto_start&&this.start()}var b;return a.prototype={start:function(){this.timeoutId=setTimeout(function(){b()},this.options.delay)},stop:function(){clearTimeout(this.timeoutId)},reset:function(){this.stop(),this.start()},immediately:function(){this.stop(),b()}},a}();c.timeout=function(a,b){return new d(a,b)}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){b.LocalStorage=function(){function a(a){this.key=a,this.localStorage=localStorage}return a.prototype={_getItem:function(){var a=this.localStorage.getItem(this.key);return null===a?[]:JSON.parse(a)},_setItem:function(a){this.localStorage.setItem(this.key,JSON.stringify(a))},add:function(a){var b=this._getItem();b.push(a),this._setItem(b)},getFirstItem:function(){var a=this._getItem();return 0===a.length?null:a[0]},set:function(a){this._setItem(a)},all:function(){return this._getItem()},flush:function(){this._setItem([])}},a}()}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c,d){function e(){return new d.LocalStorage(d.config.tracker.localStorageKey)}function f(a,b){for(var c=Object.prototype.hasOwnProperty,d=0;d<b.length;d++)if(!c.call(a,b[d]))return!1;return!0}var g=function(){function a(a,c){if(this.storage=a,!f(c,b))throw"Not enough required properties";this.statments=c}var b=["referrer_url","click_url","origin"],c={referrer_url:"",click_url:""};return a.prototype={_get:function(a){return this.statments[a]},flushSession:function(){this.storage.flush()},isDirectReferrer:function(){return 0===this._get("referrer_url").length},isStartSession:function(){return-1===this._get("referrer_url").indexOf(this._get("origin"))},pushVisitInSession:function(){this.storage.add({referrer_url:this._get("referrer_url"),click_url:this._get("click_url")})},getFirstSessionVisit:function(){var a=this.storage.getFirstItem();return null===a&&(a=c),a}},a}(),h=null;d.trackerCreator=function(){return null===h&&(h=new g(e(),{referrer_url:a.referrer,click_url:c.href,origin:c.origin})),h}}(document,window,window.location,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){function c(a){return f.prefix+"-"+a}function d(a){this.storage=a}function e(a){this.repository=a}var f=b.config.fraud;d.prototype={add:function(a){this.storage.add(b.mixin({expired:(new Date).getTime()+f.lockDuration},a))},get:function(){var a=(new Date).getTime();return b.alo(this.storage.all()).filter(function(b){return b.expired>a})},remove:function(a){var b=this.storage.all(),c=[];for(var d in b)b.hasOwnProperty(d)&&(a.call(null,b[d])||c.push(b[d]));this.storage.set(c)}},e.prototype={put:function(a){var b=(new Date).getTime();this.repository.remove(function(a){return a.expired<=b}),this.repository.add({number:a})},isAllow:function(a){if(this.repository.get().length>=f.requestLimit)return!1;var b={};return this.repository.get().each(function(a,c){b.hasOwnProperty(c.number)||(b[c.number]=0),b[c.number]++}),b.hasOwnProperty(a.number)&&b[a.number]>=f.duplicateLimit?!1:!0}},b.createFraudDetector=function(a){return new e(new d(new b.LocalStorage(c(a))))}}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){c.http=function(){var d=a.getElementsByTagName("head")[0]||a.documentElement;return{get:function(e){var f=void 0==arguments[1]||null==arguments[1]?{}:arguments[1],g=a.createElement("script");c.isDefined(c.config.http.origin)&&(f.origin=c.config.http.origin),f.callback=c.isString(c.config.http.callback)?c.config.http.callback:void 0==arguments[2]?"ccCallback"+(new Date).getTime():arguments[2],e+=e.indexOf("?")<0?"?":"&",e+=c.paramsToQuery(f),g.src=e,g.type="text/javascript",g.async=!0;var h=!1,i=new c.Deferred;g.onload=g.onreadystatechange=function(){if(!(h||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){h=!0;var a=f.callback;if(void 0!==b[a]){var e=b[a](this);c.isDefined(e.error)?i.reject(e):i.resolve(e)}else i.reject();g.onload=g.onreadystatechange=null,d&&g.parentNode&&c.html.remove(g)}};try{d.insertBefore(g,d.firstChild)}catch(j){d.removeChild(g),i.reject()}return i.promise}}}()}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d,e=c.alo;c.Modal=function(){function f(b){var d=this;this.options=c.mixin({externalDataRequest:{query:{}},autoShow:!1},b),this.body=a.getElementsByTagName("body")[0],this._ccTextMask=null,this.maskFormat="DDD-DDDD-DDDD",this.timer=null,this.validator=null,this.resizeTimeout=c.createTimeout(function(){d.wrapper.style.display="none",d.wrapper.style.width=c.viewPort.window.width()+"px",d.wrapper.style.height=c.viewPort.window.height()+"px";var b,e;b=c.viewPort.window.width()/d.originalView.width,e=d.originalView.height*b;var f=a.getElementsByClassName("coccoc-alo-cell")[0];f&&(f.style.height=e+"px"),d._ccModal.style.transform="scale("+b+","+b+")",d.wrapper.style.display="block"}),this._listeners={resize:function(){d.resizeTimeout.run()},close:function(){return c.viewPort.scroll.enable(),d.emit("close"),!1},submit:function(){d.emit("submit")},"mask:change":c.maskChangeListenerCreator(this)},this._create(),this._registryObserver()}return f.prototype={button:null,ccClose:null,changeScale:function(a){c.changeScale.call(this._wrapModal,a)},changePosition:function(){this._wrapModal.style.left=c.viewPort.scroll.left()+"px",this._wrapModal.style.top=c.viewPort.scroll.top()+"px"},disable:function(){this._ccText.disabled=!0,this._ccButton.disabled=!0},number:function(){return this._ccTextMask.value()},message:function(a){c.text(this._ccMessage,a)},show:function(){d={top:c.viewPort.scroll.top(),left:c.viewPort.scroll.left()},this.wrapper.style.display="block",this.body.style.overflow="hidden",this.changePosition(),this.changeScale(c.zoomDetail().ratio)},hide:function(){this._destroy()},_registryElementEvents:function(){e(this._ccClose).on("click",this._listeners.close),e(this._ccButton).on("click",this._listeners.submit),this._ccTextMask.on("change",this._listeners["mask:change"]),c.isMobile()&&e(b).on("resize",this._listeners.resize)},_registryCustomEvents:function(){var a=this;this.on("close",function(){a._destroy()})},_registryObserver:function(){this._registryElementEvents(),this._registryCustomEvents()},_create:function(){var b=this;if(this.wrapper=a.createElement("div"),this.wrapper.setAttribute("id","coccoc-alo-wrapper"),this.wrapper.style.height=c.viewPort.window.height()/c.zoomDetail().ratio+"px",0==this.options.autoShow&&(this.wrapper.style.display="none"),this.body.appendChild(this.wrapper),this.wrapper.innerHTML=this.__template({submit:c._("submit"),source_site:encodeURIComponent(location.hostname)}),this._wrapModal=a.getElementsByClassName("coccoc-alo-table")[0],this._ccModal=a.getElementsByClassName("coccoc-alo-popup")[0],this._ccClose=this._ccModal.getElementsByClassName("coccoc-alo-popup-close")[0],setTimeout(function(){b.originalView=b._ccModal.getBoundingClientRect()},0),c.isMobile()){var d=a.createElement("DIV");d.className="arrow",this._ccClose.appendChild(d),this.wrapper.className=this.wrapper.className+" alo-mobile",this.wrapper.style.visibility="hidden",setTimeout(function(){if(b._ccModal.getBoundingClientRect().width>c.viewPort.window.width()){var d=c.viewPort.window.width()/b._ccModal.getBoundingClientRect().width,e=b._ccModal.getBoundingClientRect().height*d,f=a.getElementsByClassName("coccoc-alo-cell")[0];f.style.height=e+"px",b._ccModal.style.transform="scale("+d+","+d+")"}b.wrapper.style.visibility="visible"},500)}this._ccText=this._ccModal.getElementsByClassName("coccoc-alo-number")[0],this._ccTextMask=new c.PhoneNumberMask(this._ccText,this.maskFormat),this._ccButton=this._ccModal.getElementsByClassName("coccoc-alo-submit")[0],this._ccMessage=this._ccModal.getElementsByClassName("coccoc-alo-message")[0],this._bindValidator({"coccoc-alo-phone-number":{name:"phone",event:"blur",errorBox:this._ccMessage,empty:!1,value:function(){return b.number()}}}),c.viewPort.scroll.disable()},_getFieldForValidation:function(){for(var a,b={},c=["input","select","checkbox","textarea"];a=c.pop();)for(var d=this._ccModal.getElementsByTagName(a),e=0;e<d.length;e++)b[d[e].name]=d[e];return b},_bindValidator:function(a){this.validator=new c.Validator(this._getFieldForValidation(),{rules:a}),this.validator.subscribeStateNotification(function(){})},_destroy:function(){this._destroyModal(),this.off("close"),this.off("submit"),this.body.scrollTop=d.top,this.body.scrollLeft=d.left},_destroyModal:function(){e(this._ccClose).off("click",this._listeners.close),e(this._ccButton).off("click",this._listeners.submit),e(b).off("orientationchange",this._listeners.orientationchange),e(b).off("resize",this._listeners.resize),this._ccTextMask.destroy(),this.body.style.removeProperty("overflow"),this.wrapper.removeAttribute("id"),c.html.remove(this.wrapper)},reopen:function(){var a=this;this.changePosition(),this._destroyModal(),setTimeout(function(){a._create(),a._registryElementEvents(),a.show()},0)},getFormData:function(){return{phone:this.number()}}},f}()}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a){c.Modal.call(this,a)}var e='<div class="coccoc-alo-overlay"></div><div class="coccoc-alo-table"><div class="coccoc-alo-cell"><div class="coccoc-alo-popup"><div class="coccoc-alo-header"><span class="coccoc-alo-popup-close"></span></div><div class="coccoc-alo-form" id="coccoc-alo-form"><h3 style="white-space: nowrap">{{title}}</h3><div class="coccoc-alo-input-wrapper"><div class="input"><input type="text" class="coccoc-alo-number" placeholder="099-9999-9999" name="coccoc-alo-phone-number"></div></div><div class="coccoc-alo-message"></div><div><button class="coccoc-alo-submit" type="submit">{{submit}}</button></div><div id="coccoc-countdown" class="coccoc-alo-popup-timer"></div></div><div class="coccoc-alo-powered">Powered by <a href="https://qc.coccoc.com/alo?utm_source={{source_site}}&utm_campaign=powered_by" target="_blank">Alo Cốc Cốc</a></div></div></div></div>',f='<div class="coccoc-alo-overlay"></div><div class="coccoc-alo-table"><div class="coccoc-alo-cell"><div class="coccoc-alo-popup"><div class="coccoc-alo-header"><span class="coccoc-alo-popup-close"></span></div><div class="coccoc-alo-form" id="coccoc-alo-form"><div class="coccoc-alo-input-wrapper"><div class="input"><input type="text" class="coccoc-alo-number" placeholder="099-9999-9999" name="coccoc-alo-phone-number"></div></div><div class="coccoc-alo-message"></div><h3>{{title}} {{weekday}},</h3><div class="coccoc-alo-select-wrapper"><span class="coccoc-alo-request-time-holder"></span></div><div><button class="coccoc-alo-submit" type="submit">{{submit}}</button></div><div id="coccoc-countdown" class="coccoc-alo-popup-timer"></div></div><div class="coccoc-alo-powered">Powered by <a href="https://qc.coccoc.com/alo?utm_source={{source_site}}&utm_campaign=powered_by" target="_blank">Alo Cốc Cốc</a></div></div></div></div>',g={template:e,__template:function(a){return c.addClass(this.wrapper,"normal-mode"),a.title=c._("normal_mode",{time:this.options.timeToCall}),c.template(this.template,a)},_create:function(){d.__super._create.call(this),this.timer=new c.Timer(this._ccModal.getElementsByClassName("coccoc-alo-popup-timer")[0],this.options.timeToCall,{autostart:!1}),this.timer.show()}},h={template:f,__template:function(a){return c.addClass(this.wrapper,"night-mode"),a.title=c._("night_mode"),a.weekday=c._("w"+this.options.nextSchedule.week_day),c.template(this.template,a)},getFormData:function(){var a=d.__super.getFormData.call(this);return a.hour=this.select.val(),a},_create:function(){d.__super._create.call(this),this.Message=this._ccModal.getElementsByClassName("coccoc-alo-message")[0],this._ccRequestTime=this._ccModal.getElementsByClassName("coccoc-alo-request-time-holder")[0];var a=[],b=this.options.nextSchedule.hours;for(var e in b)if(b.hasOwnProperty(e)){var f=c._("from")+" "+(b[e]>12?b[e]-12+":00 PM":b[e]+":00 AM");a.push({text:f,val:b[e],selected:this.options.nextSchedule.selected==b[e]})}this.select=c.html.select(this._ccRequestTime,a)}},i={template:e,__template:function(a){return c.addClass(this.wrapper,"no-call-mode"),a.title=c._("no_call_mode"),c.template(this.template,a)}};c.createModal=function(a){function b(){}var j={token:a.token,mode:a.mode,timeToCall:a.time_to_call},k=a.templates||{normal:e,night:f},l=c.mixin(g,{template:k.normal});switch(c.isDefined(a.externalDataRequest)&&(j.externalDataRequest=c.mixin({query:{}},a.externalDataRequest)),b.prototype=c.Modal.prototype,d.prototype=new b,d.__super=c.Modal.prototype,d.prototype.constructor=d,a.mode){case"lunch":case"no_call":case"payment_required":l=c.mixin(i,{template:k.normal});break;case"night":j.nextSchedule=a.next_schedule,l=c.mixin(h,{template:k.night})}return l._emitter=new c.createEmitter,c.mixin(d.prototype,l),c.mixin(d.prototype,c.emitterTrait),new d(j)}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d="",e={};c.routes={setHost:function(a){"/"!=a[a.length-1]&&(a+="/"),d=a},add:function(a,b){e[a]=b},gen:function(a,b){var f=e[a],g=[];if(void 0!==b)for(var h in b)b.hasOwnProperty(h)&&g.push(h);var i=new RegExp("{("+g.join("|")+")}","g"),j=d+f.replace(i,function(a,c){var d=b[c];return delete b[c],d}),k={};for(var l in b)b.hasOwnProperty(l)&&(k[l]=b[l]);return c.emitter.emit("route:generate",{routeName:a,url:j,query:k}),j+=j.indexOf("?")<0?"?":"&",""!=c.paramsToQuery(k)&&(j+=c.paramsToQuery(k)),j}};var f=c.config.routes;c.isDefined(f.host)&&c.routes.setHost(f.host),c.isDefined(f.baseUrl)&&c.routes.setHost(f.baseUrl);for(var g in f.urls)f.urls.hasOwnProperty(g)&&c.routes.add(g,f.urls[g])}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d={D:/\d/,W:/\w/},e=c.alo;c.PhoneNumberMask=function(a,b){this.showEmptyPlace=!1,this.input=a,this.format=b,this.mask=[],this.emptyPlace="_",this.startCaretPos=null,this.callbacks={},this._disable=!0,this._emitter=new c.createEmitter,this.setMask(b),this._registryObservers()},c.PhoneNumberMask.prototype={disable:function(){this.input.value="",this._disable=!0},enable:function(){this._buildMask(),this._disable=!1},setValue:function(a){for(var b=this.mask,c=0,d=0;d<b.length;d++)if(b[d].changeable!==!1){if(void 0===a[c])break;b[d].value=a[c],c++}this._buildMask(),this._position(d)},setMask:function(a){this.mask=[];for(var b=0;b<a.length;b++){var c=null;void 0!==d[a[b]]?(null===this.startCaretPos&&(this.startCaretPos=b),c={changeable:!0,value:this.emptyPlace,restrict:d[a[b]]}):c={changeable:!1,value:a[b]},this.mask.push(c)}},value:function(){for(var a="",b=0;b<this.mask.length;b++)0!=this.mask[b].changeable&&this.mask[b].value!=this.emptyPlace&&(a+=this.mask[b].value);return a},_buildMask:function(){for(var a="",b=0;b<this.mask.length&&(this.showEmptyPlace!==!1||1!=this.mask[b].changeable||this.mask[b].value!=this.emptyPlace);b++)a+=this.mask[b].value;this.input.value=a},_position:function(a){if(this.input.createTextRange){var b=this.input.createTextRange();b.move("character",a),b.select()}else this.input.selectionStart!==!1?(this.input.focus(),this.input.setSelectionRange(a,a)):this.input.focus()},_set:function(a,b){1==this.mask[b].changeable&&(this.mask[b].value=a);

},_registryObservers:function(){var a=this,b=function(){a.enable();var b=!0;for(var c in a.mask)if(1==a.mask[c].changeable&&a.mask[c].value!==a.emptyPlace){b=!1;break}b&&a._position(a.startCaretPos)};this._listeners={init:function(){b()},past:function(){setTimeout(function(){a.setValue(a.input.value)},0)},keydown:function(b){if(!a._disable){var c=b.keyCode||b.charCode,d=a.doGetCaretPosition(),e=a.getSelection();if(67!=b.keyCode||b.ctrlKey!==!0){if(86==b.keyCode&&b.ctrlKey===!0)return void(a.input.value="");if((8==c||46==c)&&e.length()==a.input.value.length)return void a.deleteRange(e.start,e.end);switch(c){case 37:a._prev(d),b.preventDefault();break;case 39:a._next(d),b.preventDefault();break;case 8:a.backspace(d),b.preventDefault();break;case 46:a.del(d),b.preventDefault()}}}},keypress:function(b){if(!a._disable){var c=b.keyCode||b.charCode,d=a.doGetCaretPosition(),e=String.fromCharCode(c);if(67!=b.keyCode||b.ctrlKey!==!0){if(86==b.keyCode&&b.ctrlKey===!0)return void(a.input.value="");a.write(e,d),b.preventDefault()}}}},e(this.input).on("click",this._listeners.init),e(this.input).on("focus",this._listeners.init),e(this.input).on("paste",this._listeners.past),e(this.input).on("keydown",this._listeners.keydown),e(this.input).on("keypress",this._listeners.keypress)},doGetCaretPosition:function(){var a=0;if(document.selection){this.input.focus();var b=document.selection.createRange();b.moveStart("character",-this.input.value.length),a=b.text.length}else(this.input.selectionStart||"0"==this.input.selectionStart)&&(a=this.input.selectionStart);return a},getSelection:function(){var a={start:0,end:0,length:function(){return this.end-this.start}};if(document.selection){this.input.focus();var b,c,d,e,f=document.selection.createRange();f&&f.parentElement()==this.input&&(d=this.input.value.length,b=this.input.value.replace(/\r\n/g,"\n"),c=this.input.createTextRange(),c.moveToBookmark(f.getBookmark()),e=this.input.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?a.start=a.end=d:(a.start=-c.moveStart("character",-d),a.start+=b.slice(0,start).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?a.end=d:(a.end=-c.moveEnd("character",-d),a.end+=b.slice(0,a.end).split("\n").length-1)))}else(this.input.selectionStart||"0"==this.input.selectionStart)&&(a.start=this.input.selectionStart,a.end=this.input.selectionEnd);return a},deleteRange:function(a,b){for(var c=b;c>a;c--)this.backspace(c)},backspace:function(a){a<=this.startCaretPos||void 0!=this.mask[a-1]&&(this.mask[a-1].changeable===!0&&this._move(a,0,-1),this._buildMask(),this._prev(a),this.emit("change",this))},del:function(a){void 0!==this.mask[a+1]&&(this._move(a,1,0),this._buildMask(),this._position(a),this.emit("change",this))},write:function(a,b){var c=this.mask[b];void 0!=c&&(c.changeable===!0&&c.restrict.test(a)?(c.value!=this.emptyPlace&&this._move(b,0,1),this._set(a,this.doGetCaretPosition())):b--,this._buildMask(),this._next(b),this.emit("change",this))},_move:function(a,b,c){var d,e,f=[],g=0;for(d=a+b;d<this.mask.length;d++)e=this.mask[d],0!=e.changeable&&f.push(e.value);for(d=a+c;d<this.mask.length;d++)e=this.mask[d],0!=e.changeable&&(void 0!=f[g]?(e.value=f[g],g++):e.value=this.emptyPlace)},_next:function(a){a++;for(var b=a;b<this.mask.length&&0==this.mask[b].changeable;b++);this._position(b),this.emit("change",this)},_prev:function(a){a--;for(var b=a;b>=this.startCaretPos&&0==this.mask[b].changeable;b--);a!==b&&b++,this._position(b),this.emit("change",this)},focus:function(){this.input.focus()},destroy:function(){e(this.input).off("click",this._listeners.init),e(this.input).off("focus",this._listeners.init),e(this.input).off("paste",this._listeners.past),e(this.input).off("keydown",this._listeners.keydown),e(this.input).off("keypress",this._listeners.keypress),this.off("change")}},c.mixin(c.PhoneNumberMask.prototype,c.emitterTrait)}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d=function(){function b(){}return b.prototype={error:function(a){return c.isDefined(a)||(a=!1),(this._dirty||a)&&(this.process(),a===!0&&this._error&&this.addError()),this._error},getter:function(){return c.isDefined(this.options.value)?this.options.value(this.el):this.el.value},init:function(a,b,d){this._dirty=!0,this._error=!1,this.errorVisibility=!1,this._errorClassName="valid-invalid",this.errorEl=null,this._lastValue="",c.isDefined(b.errorBox)&&(this.errorBox=b.errorBox);var e={empty:!0,event:"blur"};this.options=c.mixin(e,b),this.el=a,this.validator=d,this._idTimeout=null,this._registryObserver()},addErrorClass:function(){c.addClass(this.el,this._errorClassName)},removeErrorClass:function(){c.removeClass(this.el,this._errorClassName)},addErrorMessage:function(){this.errorEl=a.createElement("div"),this.errorEl.className="valid-invalid-message",c.text(this.errorEl,this.message.replace("%value%",this.el.value)),null!==this.errorBox?this.errorBox.appendChild(this.errorEl):c.insertAfter(this.errorEl,this.el)},removeErrorMessage:function(){null!=this.errorEl&&this.errorEl.remove(),this.el.className.replace(this._errorClassName,"")},removeError:function(){this.errorVisibility!==!1&&(this.errorVisibility=!1,this.removeErrorMessage(),this.removeErrorClass())},onStateNotify:function(){this.validator.changeState(this)},isErrorVisibility:function(){return this.errorVisibility},_registryObserver:function(){var a=this;this.el.addEventListener(this.options.event,function(){a.process()}),this.el.addEventListener("keypress",function(){a._error===!0&&a.valid(a.getter())&&(a._error=!1,a.removeError(),a.removeError(),a.onStateNotify())})},_interrupt:function(){null!==this._idTimeout&&(clearTimeout(this._idTimeout),this._idTimeout=null)},process:function(){var a=this.getter();this._lastValue=a,this._dirty=!1,this._error=!this.valid(a),this._error&&a.length>0?this.addError():(this.removeError(),this.removeError(),this.onStateNotify()),this.onStateNotify()},addError:function(){this.errorVisibility||(this.errorVisibility=!0,this.addErrorClass(),this.addErrorMessage())},valid:function(){throw"Method is not implemented"}},b}(),e=function(a,b){this.formElements=a,this.options=b,this._attacheValidators()};e.constraints={},e.addConstraint=function(a,b,f){e.constraints[a]=function(){return c.mixin(d.prototype,{valid:b,message:f})}},e.prototype={_constraints:[],_stateNotification:[],_attacheValidators:function(){var a=this.options.rules;for(var b in a)if(a.hasOwnProperty(b)){var d=this.formElements[b];if(void 0!==d){c.isArray(a[b])||(a[b]=[a[b]]);for(var f in a[b])if(a[b].hasOwnProperty(f)){var g=a[b][f];c.isString(g)&&(g={name:g});var h=e.constraints[g.name]();h.init(d,g,this),this._constraints.push(h)}}}},changeState:function(a){for(var b=0;b<this._stateNotification.length;b++)this._stateNotification[b].call(this,a)},subscribeStateNotification:function(a){this._stateNotification.push(a)},isValid:function(a){c.isDefined(a)||(a=!1);for(var b=0,d=0;d<this._constraints.length;d++)this._constraints[d].error(a)&&b++;return 0===b}};var f=function(a,b){return a.length==b};e.addConstraint("phone",function(a){if(!c.isDefined(a)||null===a||0===a.length)return!1;if(/^(:?(:?84)|(:?0))\d{9,10}$/.test(a)){if(a=a.replace(/^84/,0),new RegExp(a[1]+"{"+a.length+"}").test(a.substr(1)))return!1;var b=a.length,d=["(",a.substr(1,2),")","{",Math.floor(b/2)-(f(a,10)?1:0),"}",f(a,10)?"[0-9]":"","$"];if(new RegExp(d.join("")).test(a.substr(1)))return!1;var e=a.substr(0,2),g=a.substr(1,2),h=a.substr(1,3);switch(e){case"02":if(c.inArray(g,[20,22,25,26,29]))return f(a,10);if(c.inArray(h,[210,211,218,219,230,231,240,241,280,281]))return f(a,11);break;case"03":if(c.inArray(g,[30,31,33,36,37,38,39]))return f(a,10);if(c.inArray(h,[320,350,351]))return f(a,11);break;case"08":case"04":return f(a,10);case"05":if(g>=52&&59>=g)return f(a,10);if(c.inArray(h,[500,501,510,511]))return f(a,11);break;case"06":if(g>=60&&64>=g||c.inArray(g,[67,68]))return f(a,10);if(c.inArray(g,[650,651]))return f(a,11);break;case"07":if(g>=73&&77>=g||c.inArray(g,[70,79]))return f(a,10);if(c.inArray(h,[710,711,780,781]))return f(a,11);break;case"09":if(10!==a.length)return!1;if(g>=90&&98>=g||43==g)return!0;if(992==h||h>=996&&999>=h)return!0;break;case"01":if(11!==a.length)return!1;if(h>=120&&129>=h||c.inArray(h,[186,188,199])||h>=162&&169>=h)return!0}}return!1},c._("invalid_number")),c.Constraint=d,c.Validator=e}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a){this.predicateOut(a)&&this.closeTimer.reset()}function e(a){this.predicateOver(a)&&(this.closeTimer.stop(),this.show())}function f(a){return h(a.target).hasClass("coccoc-alo-ph-circle-close")?(a.preventDefault(),a.stopPropagation(),this._emitter.emit("click",a),!1):void 0}function g(a,b,d){var e=this;this._emitter=new c.createEmitter,this.options=c.mixin({delay:1e3},d||{}),this.$phoneButton=b,this.$close=a,this.value=!1,this.visible(),this.closeTimer=c.timeout(function(){e.hide()},{delay:1e3,auto_start:!1}),this.predicates={out:null,over:null},this.registryObservers()}var h=c.alo;g.prototype.registryObservers=function(){var a=this;this.$close.on("mouseover",function(){a.closeTimer.stop()}),this.$close.on("mouseout",function(){a.closeTimer.immediately(),a.hide()}),this.$phoneButton.on("mouseover",function(b){e.call(a,b)}),this.$phoneButton.on("mouseout",function(b){d.call(a,b)}),this.$phoneButton.on("click",function(b){f.call(a,b)})},g.prototype.visible=function(){this.$close.css("display","block")},g.prototype.invisible=function(){this.$close.css("display","none")},g.prototype.hide=function(){this.value=!1,this.$close.removeClass("coccoc-alo-ph-circle-close-animation-show"),this.$close.addClass("coccoc-alo-ph-circle-close-animation-hide")},g.prototype.show=function(){this.value=!0,this.$close.removeClass("coccoc-alo-ph-circle-close-animation-hide"),this.$close.addClass("coccoc-alo-ph-circle-close-animation-show")},g.prototype.setPredicates=function(a){this.predicates=c.mixin(this.predicates,a)},g.prototype.predicateOut=function(a){return null===this.predicates.out||"function"!=typeof this.predicates.out?!0:this.predicates.out.call(this,a)},g.prototype.predicateOver=function(a){return null===this.predicates.over||"function"!=typeof this.predicates.over?!0:this.predicates.over.call(this,a)},c.CloseButton=g,c.mixin(g.prototype,c.emitterTrait)}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d=c.alo;c.phoneIconMixins={CloseButton:{_close:!1,attachCloseButton:function(){var a=this;this.closeBtn=new c.CloseButton(d(this.wrap).find(".coccoc-alo-ph-circle-close"),this.$phoneIcon),this.closeBtn.on("click",function(){a.close()})},close:function(){this.$phoneIcon.css("display","none"),this._close=!0},isClose:function(){return this._close}},Draggable:{isDragAndDrop:!1,enableDragAndDrop:function(){function e(a){var d=a.pageX-(b.pageXOffset+k.wrap.getBoundingClientRect().left+g),e=a.pageY-(b.pageYOffset+k.wrap.getBoundingClientRect().top+h),f=c.wndsize(),i=Math.floor((k.$phoneIcon.width()-k.$circle.width())/2),j=Math.floor((k.$phoneIcon.height()-k.$circle.height())/2),l=-i,m=f.width-k.$phoneIcon.width()+i,n=-j,o=f.height-k.$phoneIcon.width()+j;l>=d&&(d=l),d>=m&&(d=m),n>=e&&(e=n),e>=o&&(e=o);var p=c.positionToPercent(k.$phoneIcon,d,e);k.options.x=p.offsetX,k.options.y=p.offsetY,k.$phoneIcon.css("left",d+"px"),k.$phoneIcon.css("top",e+"px")}function f(){k.isDragAndDrop=!1,d(a).off("mousemove",m.mousemove),d(a).off("mouseup",m.mouseup),k.$phoneIcon.off("click",m.click)}var g,h,i,j,k=this,l=150,m={click:function(a){return d(a.target).hasClass("coccoc-alo-ph-circle-close")?(k.close(),a.preventDefault(),a.stopPropagation(),!1):(new Date).getTime()-j<l?(clearTimeout(i),f(),!0):(a.preventDefault(),a.stopPropagation(),!1)},mousemove:function(a){k.isDragAndDrop!==!1&&e(a)},mouseup:function(a){return a.preventDefault(),i&&clearTimeout(i),f(),k.$circle.hasClass("coccoc-alo-ph-circle-shake")||k.$circle.addClass("coccoc-alo-ph-circle-shake"),k.$circle.removeClass("coccoc-alo-move-cursor"),!1},mousedown:function(b){return b.preventDefault(),j=(new Date).getTime(),i=setTimeout(function(){k.isDragAndDrop=!0,k.$circle.removeClass("coccoc-alo-ph-circle-shake"),k.$circle.hasClass("coccoc-alo-move-cursor")||k.$circle.addClass("coccoc-alo-move-cursor");var c=k.$phoneIcon.position();g=b.pageX-c.left,h=b.pageY-c.top,d(a).on("mousemove",m.mousemove),d(a).on("mouseup",m.mouseup)},l),!1}};k.$phoneIcon.on("click",m.click),k.$phoneIcon.on("mousedown",m.mousedown),k.$phoneIcon.on("dragstart",function(){return!1})}}},c.PhoneIcon=function(a){this.options=a,this._close=!1},c.PhoneIcon.prototype.show=function(){this.$phoneIcon.css("display","block")},c.PhoneIcon.prototype.hide=function(){this.$phoneIcon.css("display","none")},c.PhoneIcon.prototype.render=function(){throw"Not Implement"},c.PhoneIcon.prototype.on=function(a,b){this.$phoneIcon.on(a,b)},c.PhoneIcon.prototype.off=function(a,b){this.$phoneIcon.off(a,b)}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d='<div class="coccoc-alo-phone coccoc-alo-green coccoc-alo-show" id="coccoc-alo-phoneIcon"><div class="coccoc-alo-ph-circle-time"><img id="coccoc-alo-external-site-favicon" src=""> <span id="coccoc-alo-external-site-counter"></span></div><canvas id="stopwatch"></canvas><div class="coccoc-alo-ph-circle"></div><div class="coccoc-alo-ph-circle-fill"></div><div class="coccoc-alo-ph-img-circle coccoc-alo-ph-circle-shake"></div><div class="coccoc-alo-ph-circle-close"></div></div>',e=c.alo,f=c.PhoneIcon,g=function(a){f.call(this,a),this.registryListeners()};c.extend(g,f),c.mixin(c.PhoneIcon.prototype,c.phoneIconMixins.CloseButton),c.mixin(c.PhoneIcon.prototype,c.phoneIconMixins.Draggable),g.prototype.registryListeners=function(){var a=this;e(b).on("scroll",function(){a.changePosition()}),e(b).on("resize",function(){c.isMobile()||a.changePosition()},!0),e(b).on("alo:zoom",function(){a.changeScale(),a.changePosition()})},g.prototype.changeScale=function(){var a=c.isMobile()?c.zoomDetail().ratio/1.5:c.zoomDetail().ratio;c.changeScale.call(this.$phoneIcon[0],a)},g.prototype.changePosition=function(){var d=c.percentToPosition(this.$phoneIcon,this.options.x,this.options.y);if(this.$phoneIcon.css("left",d.offsetX+"px"),this.$phoneIcon.css("top",d.offsetY+"px"),c.zoomDetail().ratio<1){var f=b.pageYOffset+a.documentElement.getBoundingClientRect().top,g=b.pageXOffset+a.documentElement.getBoundingClientRect().left;e(this.wrap).css("left",g+"px"),e(this.wrap).css("top",f+"px")}},g.prototype.show=function(){g.__super.show.call(this),this.changeScale(),this.changePosition()},g.prototype.render=function(){this.wrap=a.createElement("div"),e(this.wrap).css("position","fixed"),e(this.wrap).css("top","0px"),e(this.wrap).css("left","0px"),e(this.wrap).css("width","0px"),e(this.wrap).css("height","0px"),e(this.wrap).css("z-index","9999999999999"),this.wrap.innerHTML=d,this.$phoneIcon=e(this.wrap).find(".coccoc-alo-phone"),this.$circle=this.$phoneIcon.find(".coccoc-alo-ph-img-circle"),!0===this.options.closable&&this.attachCloseButton(),e("body").append(this.wrap),this.changeScale(),this.changePosition(),c.isMobile()?e(this.wrap).addClass("coccoc-alo-mobile"):this.enableDragAndDrop()},g.prototype.attachCloseButton=function(){g.__super.attachCloseButton.call(this),this.closeBtn.setPredicates({over:function(a){return e(a.target).hasClass("coccoc-alo-ph-img-circle")},out:function(a){return e(a.target).hasClass("coccoc-alo-ph-img-circle")}})},c.PhoneIcon=g}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){var d=c.alo;c.Widget=function(){function a(a){this._emitter=new c.createEmitter,this.client=new c.createClient,this.fraudDetector=c.createFraudDetector(a.token),this.behaviors=[],this.options=a,this._init(a)}return a.prototype={_init:function(){var a=this;this.modal=null,this.isPopupOpen=!1,this.createPhoneIcon(),d(b).on("alo:zoom",function(){var b=c.zoomDetail();null!=a.modal&&a.modal.changeScale(b.ratio)})},createPhoneIcon:function(){var a=this;this.phoneIcon=new c.PhoneIcon(c.mixin(this.options.theme.icon,{closable:c.config.iconClosable})),this.phoneIcon.render(),this.phoneIcon.on("click",function(b){!1!==b.returnValue&&a.show()})},show:function(){this.isPopupOpen=!0,this._popupOpen(),this.phoneIcon.hide()},_popupOpen:function(){var a=this;return this.modal=c.createModal(this.options),this.modal.on("close",function(){a.isPopupOpen=!1,a.phoneIcon.show()}),this.modal.on("submit",function(){a.submitHandler()}),c.isAppleMobile()?(d(this.modal._ccText).on("click",function(){setTimeout(function(){a.modal._wrapModal.style.top=a.modal._wrapModal.style.top-(document.documentElement.clientHeight-window.innerHeight)},500)}),d(this.modal._ccText).on("blur",function(){a.modal.changePosition()})):d(b).on("scroll",function(){a.modal.changePosition()}),this.modal.show(),c.isMobile()||setTimeout(function(){a.modal._ccTextMask.focus()},500),setTimeout(function(){a.modal._ccTextMask.focus()},500),a.emit("window:open"),this.modal},destroy:function(){var a=this;0==this.isPopupOpen&&(clearInterval(this.idInterval),null!=this.modal&&this.modal.hide(),c.http.get(c.routes.gen("init",{token:b.widget_token})).done(function(d){if(0==d.active)return void c.html.remove(a.wrap);var e=c.mixin({token:b.widget_token},d);a._init(e)}).fail(function(){}))},addBehavior:function(a){this.behaviors.push(a)},isDisabled:function(){return this.phoneIcon.isClose()}},c.mixin(a.prototype,c.emitterTrait),a}()}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a){var b=function(a,b,c){return{behavior:a,widget:b,target:c}};a.behaviors={},a.behaviors.catch_by_time_expire=function(){function c(b,c){this.widget=b,this.options={auto_start:!0,text:a._(c.text||"normal"==b.options.mode?"time_expires":"time_expires_night"),expire:2},void 0!==c&&a.mixin(this.options,c),this.timeoutId=null,!0===this.options.auto_start&&this.start()}return c.prototype={start:function(){var c=this;this.widget.on("window:open",function(){c.stop()}),this.timeoutId=setTimeout(function(){c.widget.isDisabled()||(c.stop(),a.emitter.once("pre:render",function(a){a.title=c.options.text}),c.widget.show(),a.emitter.emit("behavior:execute",b("catch_by_time_expire",c.widget,c)))},6e4*this.options.expire)},stop:function(){clearTimeout(this.timeoutId)}},c}()}(window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){function d(a,b){if(c.inArray(b.mode,["normal","night"])&&c.isDefined(b.behaviors))for(var d in b.behaviors)if(b.behaviors.hasOwnProperty(d)){var e=b.behaviors[d]||{};!0===e.active&&a.addBehavior(new c.behaviors[d](a,e))}}var e={submitHandler:function(){if(this.emit("callback:submit"),!this.modal.validator.isValid(!0))return void this.emit("data:invalid");var a=this,b=this.modal.number(),d=this.modal.getFormData();return d.token=a.options.token,this.fraudDetector.isAllow({number:b})?(this.fraudDetector.put(b),void(this.client.isPending()===!1&&(this.modal.disable(),this.emit("data:send"),this.client.send({query:d}).done(function(b){c.isDefined(b.error)?a.modal.message(c._("service_unavailable")):(a.modal.message(c._("call_success")),null!==a.modal.timer&&a.modal.timer.start())}).fail(function(){a.modal.message(c._("service_unavailable"))})))):(this.modal.message(c._("call_success")),void(null!==this.modal.timer&&this.modal.timer.start()))}},f={site:function(a){c.isMobile()&&(a.theme.icon={x:50,y:100});var b=new c.Widget(a);return d(b,a),b},advert:function(a){return new c.Widget(a)},demo:function(a){return new c.Widget(a)}};c.widget_factory={create:function(a,b){b=b||"site";var d=f[b];if(!c.isDefined(d))throw"A creator '"+b+"' hasn't found";return c.mixin(d(a),e)}}}(document,window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){b.config.widgetReady.push(function(c){var d="widget:"+a.widget_token;c.phoneIcon.on("click",function(a){!1!==a.returnValue&&(c.emit("logger:clickByPhone",{widget:c}),b.logger(d,{remote:{query:{category:"Alo callback button",event:"Click callback button"}}}))}),c.on("window:open",function(){c.emit("logger:windowOpen",{widget:c}),b.logger(d,{remote:{query:{category:"Alo form",event:"Impression form"}}}),c.modal.on("close",function(){c.emit("logger:windowClose",{widget:c}),b.logger(d,{remote:{query:{category:"Alo form",event:"Popup close"}}})})}),c.on("data:send",function(){c.emit("logger:dataSend",{widget:c}),b.logger(d,{remote:{query:{category:"Alo form",event:"Click call me"}}})}),c.on("data:invalid",function(){c.emit("logger:dataInvalid",{widget:c}),b.logger(d,{remote:{query:{category:"Alo form",event:"Error phone"}}})})})}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){b.WidgetLoader=function(){function a(a){this.initFn=a}return a.prototype.load=function(){this._asyncLoad(this.initFn)},a.prototype._asyncLoad=function(a){setTimeout(a,0)},a}()}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b){var c=b.config,d=function(d,e){if(void 0!==b.emitter&&b.emitter.emit("post:init",e),0!=e.active)for(var f=a["ccWidget"+d]=b.widget_factory.create(b.mixin({token:d},e)),g=b.isArray(c.widgetReady)?c.widgetReady:[c.widgetReady],h=0;h<g.length;h++)"function"==typeof g[h]&&g[h](f)};b.launcher=function(e){if(b.isDefined(c.events)){var f=c.events;for(var g in f)f.hasOwnProperty(g)&&b.emitter.on(g,f[g])}b.isDefined(a.alo_widget_options)?d(e,a.alo_widget_options):b.http.get(b.routes.gen("init",{token:e})).done(function(a){d(e,a)});var h=b.trackerCreator();h.isDirectReferrer()?h.flushSession():h.isStartSession()&&(h.flushSession(),h.pushVisitInSession())}}(window,window._coccoc_widget||(window._coccoc_widget={})),function(a,b,c){a.addEventListener("DOMContentLoaded",function(){if(!b.alo_wdget_loaded){var a=c.alo("script").last().attr("data-alo-token");""===a&&void 0!==b.widget_token&&(a=b.widget_token),b.widget_token=a,new c.WidgetLoader(function(){c.launcher(a)}).load(),b.alo_wdget_loaded=!0}},!1)}(document,window,window._coccoc_widget||(window._coccoc_widget={}));